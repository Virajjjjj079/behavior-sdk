

<!DOCTYPE html>
<html>
<head>
    <title>User Location with Date & Time</title>
    <style>
        body {
            font-family: Arial;
            padding: 20px;
        }
        #output {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background: #f5f5f5;
            width: 420px;
            white-space: pre-line;
        }
        button {
            padding: 10px 18px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 6px;
        }
    </style>
</head>
<body>

<h2>Fetch User Location with Time & Date</h2>

<button onclick="getLocation()">Get Location</button>

<div id="output">Click the button to fetch location...</div>

<script>

// Local ISO: YYYY-MM-DDTHH:MM:SS (uses device's local time)
function formatLocalISO(timestamp) {
  const d = new Date(timestamp);

  const year = d.getFullYear();
  const month = String(d.getMonth() + 1).padStart(2, '0');
  const day = String(d.getDate()).padStart(2, '0');

  const hours = String(d.getHours()).padStart(2, '0');
  const minutes = String(d.getMinutes()).padStart(2, '0');
  const seconds = String(d.getSeconds()).padStart(2, '0');

  return `${year}-${month}-${day}T${hours}:${minutes}:${seconds}`;
}

function getLocation() {

    if (!navigator.geolocation) {
        document.getElementById("output").innerText =
            "Geolocation not supported.";
        return;
    }

    navigator.geolocation.getCurrentPosition(
        (pos) => {
            const time = formatLocalISO(pos.timestamp);
            const lat = pos.coords.latitude;
            const lon = pos.coords.longitude;
            const acc = pos.coords.accuracy;

            document.getElementById("output").innerHTML =
                `ðŸ“ Location Details\n\n` +
                `Latitude: ${lat}\n` +
                `Longitude: ${lon}\n` +
                `Accuracy: ${acc} meters\n` +
                `Time: ${time}`;
        },
        (error) => {
            document.getElementById("output").innerText =
                "Error: " + error.message;
        },
        {
            enableHighAccuracy: true,
            timeout: 10000,
            maximumAge: 0
        }
    );
}
</script>

</body>
</html>
